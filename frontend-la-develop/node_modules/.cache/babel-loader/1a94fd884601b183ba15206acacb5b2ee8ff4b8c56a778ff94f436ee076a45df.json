{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { get, create, deleteAnouncement } from \"./announcementsAPI\";\nimport { PAGE_SIZE } from \"../../../Common/CONSTANTS\";\nconst initialState = {\n  message: null,\n  error: null,\n  total: 0,\n  success: false,\n  totalPages: 0,\n  status: \"idle\",\n  data: []\n};\nexport const getAsync = createAsyncThunk(\"announcements\", async data => {\n  const response = await get(data);\n  return response.data;\n});\nexport const createAsync = createAsyncThunk(\"announcements/create\", async senData => {\n  const response = await create(senData);\n  return response.data;\n});\nexport const deleteAnouncementAsync = createAsyncThunk(\"announcements/delete\", async senData => {\n  const response = await deleteAnouncement(senData);\n  return response.data;\n});\nexport const Slice = createSlice({\n  name: \"announcements\",\n  initialState,\n  reducers: {\n    clearMessage: state => {\n      state.message = null;\n    },\n    clearError: state => {\n      state.error = null;\n    },\n    clearSuccess: state => {\n      state.success = false;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getAsync.pending, state => {\n      state.status = \"loading\";\n    }).addCase(getAsync.fulfilled, (state, action) => {\n      var _action$payload, _action$payload2, _action$payload3;\n      state.status = \"idle\";\n      state.data = ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.data) || [];\n      state.total = ((_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.total) || 0;\n      state.totalPages = ((_action$payload3 = action.payload) === null || _action$payload3 === void 0 ? void 0 : _action$payload3.totalPages) || 0;\n    }).addCase(getAsync.rejected, (state, action) => {\n      state.status = \"idle\";\n      state.error = action.payload;\n    }).addCase(createAsync.pending, state => {\n      state.status = \"loading\";\n    }).addCase(createAsync.fulfilled, (state, action) => {\n      var _action$payload4, _action$payload5;\n      state.status = \"idle\";\n      state.message = ((_action$payload4 = action.payload) === null || _action$payload4 === void 0 ? void 0 : _action$payload4.message) || null;\n      state.success = ((_action$payload5 = action.payload) === null || _action$payload5 === void 0 ? void 0 : _action$payload5.success) || false;\n    }).addCase(createAsync.rejected, (state, action) => {\n      state.status = \"idle\";\n      state.error = action.payload;\n    }).addCase(deleteAnouncementAsync.pending, state => {\n      state.status = \"loading\";\n    }).addCase(deleteAnouncementAsync.fulfilled, (state, action) => {\n      var _action$payload6, _action$payload7;\n      state.status = \"idle\";\n      state.message = ((_action$payload6 = action.payload) === null || _action$payload6 === void 0 ? void 0 : _action$payload6.message) || null;\n      state.success = ((_action$payload7 = action.payload) === null || _action$payload7 === void 0 ? void 0 : _action$payload7.success) || false;\n      // Update the data:\n      state.data = state.data.filter(data => {\n        var _action$payload8;\n        return data._id !== ((_action$payload8 = action.payload) === null || _action$payload8 === void 0 ? void 0 : _action$payload8.id);\n      });\n      state.total = state.data.length;\n      state.totalPages = Math.ceil(state.total / PAGE_SIZE);\n    }).addCase(deleteAnouncementAsync.rejected, (state, action) => {\n      state.status = \"idle\";\n      state.error = action.payload;\n    });\n  }\n});\nexport const {\n  clearMessage,\n  clearError,\n  clearSuccess\n} = Slice.actions;\nexport const selectMessage = state => {\n  var _state$announcements;\n  return ((_state$announcements = state.announcements) === null || _state$announcements === void 0 ? void 0 : _state$announcements.message) || null;\n};\nexport const selectError = state => {\n  var _state$announcements2, _state$announcements3;\n  return ((_state$announcements2 = state.announcements) === null || _state$announcements2 === void 0 ? void 0 : (_state$announcements3 = _state$announcements2.error) === null || _state$announcements3 === void 0 ? void 0 : _state$announcements3.err) || null;\n};\nexport const selectData = state => {\n  var _state$announcements4;\n  return ((_state$announcements4 = state.announcements) === null || _state$announcements4 === void 0 ? void 0 : _state$announcements4.data) || [];\n};\nexport const selectSuccess = state => {\n  var _state$announcements5;\n  return ((_state$announcements5 = state.announcements) === null || _state$announcements5 === void 0 ? void 0 : _state$announcements5.success) || false;\n};\nexport const selectTotal = state => {\n  var _state$announcements6;\n  return ((_state$announcements6 = state.announcements) === null || _state$announcements6 === void 0 ? void 0 : _state$announcements6.total) || 0;\n};\nexport const selectTotalPages = state => {\n  var _state$announcements7;\n  return ((_state$announcements7 = state.announcements) === null || _state$announcements7 === void 0 ? void 0 : _state$announcements7.totalPages) || 0;\n};\nexport default Slice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","get","create","deleteAnouncement","PAGE_SIZE","initialState","message","error","total","success","totalPages","status","data","getAsync","response","createAsync","senData","deleteAnouncementAsync","Slice","name","reducers","clearMessage","state","clearError","clearSuccess","extraReducers","builder","addCase","pending","fulfilled","action","_action$payload","_action$payload2","_action$payload3","payload","rejected","_action$payload4","_action$payload5","_action$payload6","_action$payload7","filter","_action$payload8","_id","id","length","Math","ceil","actions","selectMessage","_state$announcements","announcements","selectError","_state$announcements2","_state$announcements3","err","selectData","_state$announcements4","selectSuccess","_state$announcements5","selectTotal","_state$announcements6","selectTotalPages","_state$announcements7","reducer"],"sources":["/home/tarik/Downloads/frontend-la-develop/src/admin/features/announcements/announcementsSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { get, create, deleteAnouncement } from \"./announcementsAPI\";\nimport { PAGE_SIZE } from \"../../../Common/CONSTANTS\";\n\nconst initialState = {\n  message: null,\n  error: null,\n  total: 0,\n  success: false,\n  totalPages: 0,\n  status: \"idle\",\n  data: [],\n};\nexport const getAsync = createAsyncThunk(\"announcements\", async (data) => {\n  const response = await get(data);\n  return response.data;\n});\nexport const createAsync = createAsyncThunk(\n  \"announcements/create\",\n  async (senData) => {\n    const response = await create(senData);\n    return response.data;\n  }\n);\nexport const deleteAnouncementAsync = createAsyncThunk(\n  \"announcements/delete\",\n  async (senData) => {\n    const response = await deleteAnouncement(senData);\n    return response.data;\n  }\n);\nexport const Slice = createSlice({\n  name: \"announcements\",\n  initialState,\n  reducers: {\n    clearMessage: (state) => {\n      state.message = null;\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    clearSuccess: (state) => {\n      state.success = false;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(getAsync.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(getAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.data = action.payload?.data || [];\n        state.total = action.payload?.total || 0;\n        state.totalPages = action.payload?.totalPages || 0;\n      })\n      .addCase(getAsync.rejected, (state, action) => {\n        state.status = \"idle\";\n        state.error = action.payload;\n      })\n      .addCase(createAsync.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(createAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.message = action.payload?.message || null;\n        state.success = action.payload?.success || false;\n      })\n      .addCase(createAsync.rejected, (state, action) => {\n        state.status = \"idle\";\n        state.error = action.payload;\n      })\n      .addCase(deleteAnouncementAsync.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(deleteAnouncementAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.message = action.payload?.message || null;\n        state.success = action.payload?.success || false;\n        // Update the data:\n        state.data = state.data.filter(\n          (data) => data._id !== action.payload?.id\n        );\n        state.total = state.data.length;\n        state.totalPages = Math.ceil(state.total / PAGE_SIZE);\n      })\n      .addCase(deleteAnouncementAsync.rejected, (state, action) => {\n        state.status = \"idle\";\n        state.error = action.payload;\n      });\n  },\n});\nexport const { clearMessage, clearError, clearSuccess } = Slice.actions;\n\nexport const selectMessage = (state) => state.announcements?.message || null;\nexport const selectError = (state) => state.announcements?.error?.err || null;\nexport const selectData = (state) => state.announcements?.data || [];\nexport const selectSuccess = (state) => state.announcements?.success || false;\n\nexport const selectTotal = (state) => state.announcements?.total || 0;\nexport const selectTotalPages = (state) => state.announcements?.totalPages || 0;\n\nexport default Slice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}