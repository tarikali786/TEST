{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { login, createUser, signOut, CheckAuth, UpdateAuth, checkDataExist } from \"./authAPI\";\nconst initialState = {\n  checkAuth: false,\n  status: \"idle\",\n  authInfo: null,\n  error: null\n};\nexport const createUserAsync = createAsyncThunk(\"auth/createUser\", async (userData = null, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await createUser(userData);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const checkDataExistAsync = createAsyncThunk(\"auth/checkDataExist\", async (userData = null, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await checkDataExist(userData);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const loginAsync = createAsyncThunk(\"auth/login\", async (loginInfo = null, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await login(loginInfo);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const checkAuthAsync = createAsyncThunk(\"auth/check\", async () => {\n  try {\n    const response = await CheckAuth();\n    return response.data;\n  } catch (error) {}\n});\nexport const signOutAsync = createAsyncThunk(\"auth/signOut\", async userId => {\n  const response = await signOut(userId);\n  // The value we return becomes the `fulfilled` action payload\n  return response.data;\n});\nexport const UpdateAuthAsync = createAsyncThunk(\"auth/Update\", async update => {\n  const response = await UpdateAuth(update);\n  return response.data;\n});\nexport const userSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    resetDataIsValid: state => {\n      state.dataIsValid = false;\n    },\n    resetError: state => {\n      state.error = null;\n    },\n    resetDataValidaionError: state => {\n      state.dataValidaionError = null;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(createUserAsync.pending, state => {\n      state.status = \"loading\";\n    }).addCase(createUserAsync.fulfilled, (state, action) => {\n      state.status = \"idle\";\n      state.authInfo = action.payload;\n    }).addCase(createUserAsync.rejected, (state, action) => {\n      state.status = \"idle\";\n      state.error = action.payload;\n    }).addCase(loginAsync.pending, state => {\n      state.status = \"loading\";\n    }).addCase(loginAsync.fulfilled, (state, action) => {\n      state.status = \"idle\";\n      state.authInfo = action.payload.user;\n    }).addCase(loginAsync.rejected, (state, action) => {\n      state.status = \"idle\";\n      state.error = action.payload;\n    }).addCase(checkAuthAsync.fulfilled, (state, action) => {\n      state.status = \"idle\";\n      state.authInfo = action.payload;\n      state.checkAuth = true;\n    }).addCase(checkAuthAsync.rejected, (state, action) => {\n      state.status = \"idle\";\n      state.checkAuth = true;\n    }).addCase(signOutAsync.pending, state => {\n      state.status = \"loading\";\n    }).addCase(signOutAsync.fulfilled, (state, action) => {\n      state.status = \"idle\";\n      state.authInfo = null;\n    }).addCase(UpdateAuthAsync.pending, state => {\n      state.status = \"loading\";\n    }).addCase(UpdateAuthAsync.fulfilled, (state, action) => {\n      state.status = \"idle\";\n      state.authInfo = action.payload;\n    });\n  }\n});\nexport const selectAuthInfo = state => state.auth.authInfo;\nexport const selectcheckAuth = state => state.auth.checkAuth;\nexport const selectAuthError = state => {\n  var _state$auth$error, _state$auth$error$err;\n  return (_state$auth$error = state.auth.error) === null || _state$auth$error === void 0 ? void 0 : (_state$auth$error$err = _state$auth$error.err) === null || _state$auth$error$err === void 0 ? void 0 : _state$auth$error$err.message;\n};\nexport const selectAuthStatus = state => state.auth.status;\nexport const {\n  resetDataValidaionError,\n  resetDataIsValid,\n  resetError\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","login","createUser","signOut","CheckAuth","UpdateAuth","checkDataExist","initialState","checkAuth","status","authInfo","error","createUserAsync","userData","rejectWithValue","response","data","checkDataExistAsync","loginAsync","loginInfo","checkAuthAsync","signOutAsync","userId","UpdateAuthAsync","update","userSlice","name","reducers","resetDataIsValid","state","dataIsValid","resetError","resetDataValidaionError","dataValidaionError","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","user","selectAuthInfo","auth","selectcheckAuth","selectAuthError","_state$auth$error","_state$auth$error$err","err","message","selectAuthStatus","actions","reducer"],"sources":["/home/tarik/Downloads/frontend-la-develop/src/features/auth/authSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport {\n  login,\n  createUser,\n  signOut,\n  CheckAuth,\n  UpdateAuth,\n  checkDataExist,\n} from \"./authAPI\";\n\nconst initialState = {\n  checkAuth: false,\n  status: \"idle\",\n  authInfo: null,\n  error: null,\n};\nexport const createUserAsync = createAsyncThunk(\n  \"auth/createUser\",\n  async (userData = null, { rejectWithValue }) => {\n    try {\n      const response = await createUser(userData);\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\nexport const checkDataExistAsync = createAsyncThunk(\n  \"auth/checkDataExist\",\n  async (userData = null, { rejectWithValue }) => {\n    try {\n      const response = await checkDataExist(userData);\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\nexport const loginAsync = createAsyncThunk(\n  \"auth/login\",\n  async (loginInfo = null, { rejectWithValue }) => {\n    try {\n      const response = await login(loginInfo);\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\nexport const checkAuthAsync = createAsyncThunk(\"auth/check\", async () => {\n  try {\n    const response = await CheckAuth();\n    return response.data;\n  } catch (error) {}\n});\nexport const signOutAsync = createAsyncThunk(\"auth/signOut\", async (userId) => {\n  const response = await signOut(userId);\n  // The value we return becomes the `fulfilled` action payload\n  return response.data;\n});\nexport const UpdateAuthAsync = createAsyncThunk(\n  \"auth/Update\",\n  async (update) => {\n    const response = await UpdateAuth(update);\n    return response.data;\n  }\n);\n\nexport const userSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    resetDataIsValid: (state) => {\n      state.dataIsValid = false;\n    },\n    resetError: (state) => {\n      state.error = null;\n    },\n    resetDataValidaionError: (state) => {\n      state.dataValidaionError = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(createUserAsync.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(createUserAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.authInfo = action.payload;\n      })\n      .addCase(createUserAsync.rejected, (state, action) => {\n        state.status = \"idle\";\n        state.error = action.payload;\n      })\n      .addCase(loginAsync.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(loginAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.authInfo = action.payload.user;\n      })\n      .addCase(loginAsync.rejected, (state, action) => {\n        state.status = \"idle\";\n        state.error = action.payload;\n      })\n      .addCase(checkAuthAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.authInfo = action.payload;\n        state.checkAuth = true;\n      })\n      .addCase(checkAuthAsync.rejected, (state, action) => {\n        state.status = \"idle\";\n        state.checkAuth = true;\n      })\n      .addCase(signOutAsync.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(signOutAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.authInfo = null;\n      })\n      .addCase(UpdateAuthAsync.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(UpdateAuthAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.authInfo = action.payload;\n      });\n  },\n});\nexport const selectAuthInfo = (state) => state.auth.authInfo;\nexport const selectcheckAuth = (state) => state.auth.checkAuth;\nexport const selectAuthError = (state) => state.auth.error?.err?.message;\n  export const selectAuthStatus = (state) => state.auth.status\nexport const { resetDataValidaionError, resetDataIsValid, resetError } =\n  userSlice.actions;\nexport default userSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}